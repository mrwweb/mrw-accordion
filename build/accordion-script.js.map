{"version":3,"file":"accordion-script.js","mappings":";;;;;;AAAa;;AAEbA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAW;EAExD,MAAMC,UAAU,GAAGF,QAAQ,CAACG,gBAAgB,CAAC,gBAAgB,CAAC;IAC3DC,eAAe,GAAGF,UAAU,CAACG,MAAM;IACnCC,MAAM,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC;EAE7C,IAAIC,CAAC,EACJC,SAAS;EAEV,KAAMD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,eAAe,EAAEO,CAAC,GAAGA,CAAC,GAAG,CAAC,EAAG;IAE7CC,SAAS,GAAG,IAAIC,cAAc,CAACX,UAAU,CAACS,CAAC,CAAC,EAAEA,CAAC,CAAC;IAChDC,SAAS,CAACE,IAAI,CAAEZ,UAAU,CAACS,CAAC,CAAC,CAACI,EAAE,KAAKT,MAAO,CAAC;EAE9C;AAED,CAAC,CAAC;AAEFC,MAAM,CAACN,gBAAgB,CAAC,YAAY,EAAE,YAAW;EAChD,MAAMK,MAAM,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC;EAChDM,aAAa,CAACV,MAAM,CAAC;AACtB,CAAC,CAAC;AAEF,SAASW,oBAAoBA,CAAEC,WAAW,EAAG;EAC5C,IAAI,OAAOA,WAAW,KAAK,QAAQ,EAAG;IACrC,OAAO,KAAK;EACb;EAEA,MAAMN,SAAS,GAAGZ,QAAQ,CAACmB,cAAc,CAACD,WAAW,CAAC;EAEtD,IAAIN,SAAS,KAAK,IAAI,EAAE;IACvB,OAAO,KAAK;EACb;EAEA,OAAOA,SAAS;AACjB;AAEA,SAASQ,eAAeA,CAAEF,WAAW,EAAG;EAEvC,MAAMN,SAAS,GAAGK,oBAAoB,CAAEC,WAAY,CAAC;EAErD,IAAI,CAAEN,SAAS,EAAG;IACjB;EACD;EAEA,MAAMS,MAAM,GAAGT,SAAS,CAACU,aAAa,CAAC,gCAAgC,CAAC;IACrEC,IAAI,GAAGX,SAAS,CAACU,aAAa,CAAC,yBAAyB,CAAC;EAE5D,IAAK,OAAO,KAAKD,MAAM,CAACG,YAAY,CAAC,eAAe,CAAC,EAAG;IAEvDZ,SAAS,CAACa,SAAS,CAACC,MAAM,CAAC,SAAS,CAAC;IACrCL,MAAM,CAACM,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;IAC5CJ,IAAI,CAACI,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC;EAE1C,CAAC,MAAM;IAENf,SAAS,CAACa,SAAS,CAACC,MAAM,CAAC,SAAS,CAAC;IACrCL,MAAM,CAACM,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC;IAC7CJ,IAAI,CAACI,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC;EAEzC;AAED;AAEA,SAASX,aAAaA,CAAEE,WAAW,EAAG;EACrC,MAAMN,SAAS,GAAGK,oBAAoB,CAAEC,WAAY,CAAC;EAErD,IAAI,CAAEN,SAAS,EAAG;IACjB;EACD;EAEA,MAAOS,MAAM,GAAGT,SAAS,CAACU,aAAa,CAAC,gCAAgC,CAAC;IACvEC,IAAI,GAAGX,SAAS,CAACU,aAAa,CAAC,yBAAyB,CAAC;EAE3D,IAAK,OAAO,KAAKD,MAAM,CAACG,YAAY,CAAC,eAAe,CAAC,EAAG;IAEvDZ,SAAS,CAACa,SAAS,CAACC,MAAM,CAAC,SAAS,CAAC;IACrCL,MAAM,CAACM,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;IAC5CJ,IAAI,CAACI,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC;EAE1C;AAED;AAEA,MAAMd,cAAc,GAAG,SAAAA,CAAUe,kBAAkB,EAAEjB,CAAC,EAAG;EAExD,MAAMkB,OAAO,GAAGD,kBAAkB,CAACN,aAAa,CAAC,yBAAyB,CAAC;IACxEC,IAAI,GAAGK,kBAAkB,CAACN,aAAa,CAAC,yBAAyB,CAAC;IAClE;IACAD,MAAM,GAAGS,kBAAkB,CAAED,OAAQ,CAAC;IACtCE,WAAW,GAAGH,kBAAkB,CAACb,EAAE;EAEtC,IAAI,CAACD,IAAI,GAAG,UAAUkB,MAAM,EAAG;IAE9BT,IAAI,CAACR,EAAE,GAAGgB,WAAW,GAAG,UAAU;IAClCV,MAAM,CAACM,YAAY,CAAC,eAAe,EAAEJ,IAAI,CAACR,EAAE,CAAC;IAC7CM,MAAM,CAACY,SAAS,GAAGJ,OAAO,CAACI,SAAS;IACpCZ,MAAM,CAACI,SAAS,CAACS,MAAM,CAAC,wBAAwB,CAAC;IACjDb,MAAM,CAACI,SAAS,CAACU,GAAG,CAAC,uBAAuB,CAAC;;IAE7C;IACAd,MAAM,CAACM,YAAY,CAAC,eAAe,EAAEK,MAAO,CAAC;IAC7CX,MAAM,CAACpB,gBAAgB,CAAC,OAAO,EAAEmC,CAAC,IAAIhB,eAAe,CAACgB,CAAC,CAACC,aAAa,CAACb,YAAY,CAAC,eAAe,CAAC,CAACc,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC;;IAEnI;IACAf,IAAI,CAACI,YAAY,CAAC,aAAa,EAAE,CAAEK,MAAM,CAAC;;IAE1C;IACAJ,kBAAkB,CAACH,SAAS,CAACU,GAAG,CAAC,uBAAuB,CAAC;EAE1D,CAAC;EAED,SAASL,kBAAkBA,CAAED,OAAO,EAAG;IAEtC,MAAMU,WAAW,GAAGV,OAAO,CAACW,SAAS;MAClCnB,MAAM,GAAGrB,QAAQ,CAACyC,aAAa,CAAE,QAAS,CAAC;IAE9CpB,MAAM,CAACmB,SAAS,GAAGD,WAAW,CAACG,IAAI,CAAC,CAAC;IACrCb,OAAO,CAACW,SAAS,GAAG,EAAE;IACtBX,OAAO,CAACc,WAAW,CAACtB,MAAM,CAAC;IAE3B,OAAOA,MAAM;EAEd;AAED,CAAC,C","sources":["webpack://mrw-accordion/./src/accordion-script.js"],"sourcesContent":["\"use strict\";\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n\r\n\tconst accordions = document.querySelectorAll('.mrw-accordion'),\r\n\t\t  accordionsTotal = accordions.length,\r\n\t\t  target = window.location.hash.substring(1);\r\n\r\n\tlet\ti,\r\n\t\taccordion;\r\n\r\n\tfor ( i = 0; i < accordionsTotal; i = i + 1 ) {\r\n\r\n\t\taccordion = new AccordionMaker(accordions[i], i);\r\n\t\taccordion.init( accordions[i].id === target );\r\n\r\n\t}\r\n\r\n});\r\n\r\nwindow.addEventListener('hashchange', function() {\r\n\tconst target = window.location.hash.substring(1);\r\n\topenAccordion(target);\r\n});\r\n\r\nfunction getAccordionInstance( accordionId ) {\r\n\tif( typeof accordionId !== 'string' ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst accordion = document.getElementById(accordionId);\r\n\r\n\tif( accordion === null) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn accordion;\r\n}\r\n\r\nfunction toggleAccordion( accordionId ) {\r\n\r\n\tconst accordion = getAccordionInstance( accordionId );\r\n\r\n\tif( ! accordion ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst button = accordion.querySelector('.mrw-accordion__heading button'),\r\n\t\t  body = accordion.querySelector('.mrw-accordion__content');\r\n\r\n\tif ( 'false' === button.getAttribute('aria-expanded') ) {\r\n\r\n\t\taccordion.classList.toggle('is-open');\r\n\t\tbutton.setAttribute('aria-expanded', 'true');\r\n\t\tbody.setAttribute('aria-hidden', 'false');\r\n\r\n\t} else {\r\n\r\n\t\taccordion.classList.toggle('is-open');\r\n\t\tbutton.setAttribute('aria-expanded', 'false');\r\n\t\tbody.setAttribute('aria-hidden', 'true');\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction openAccordion( accordionId ) {\r\n\tconst accordion = getAccordionInstance( accordionId );\r\n\r\n\tif( ! accordion ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst \tbutton = accordion.querySelector('.mrw-accordion__heading button'),\r\n\t\t\tbody = accordion.querySelector('.mrw-accordion__content');\r\n\r\n\tif ( 'false' === button.getAttribute('aria-expanded') ) {\r\n\r\n\t\taccordion.classList.toggle('is-open');\r\n\t\tbutton.setAttribute('aria-expanded', 'true');\r\n\t\tbody.setAttribute('aria-hidden', 'false')\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst AccordionMaker = function( accordionContainer, i ) {\r\n\r\n\tconst heading = accordionContainer.querySelector('.mrw-accordion__heading'),\r\n\t\t  body = accordionContainer.querySelector('.mrw-accordion__content'),\r\n\t\t  // This function both creates the button and returns it\r\n\t\t  button = addButtonToHeading( heading ),\r\n\t\t  accordionID = accordionContainer.id;\r\n\r\n\tthis.init = function( isOpen ) {\r\n\r\n\t\tbody.id = accordionID + '-content';\r\n\t\tbutton.setAttribute('aria-controls', body.id);\r\n\t\tbutton.className = heading.className;\r\n\t\tbutton.classList.remove('mrw-accordion__heading');\r\n\t\tbutton.classList.add('mrw-accordion__button');\r\n\r\n\t\t// ARIA and Event for Button\r\n\t\tbutton.setAttribute('aria-expanded', isOpen );\r\n\t\tbutton.addEventListener('click', e => toggleAccordion(e.currentTarget.getAttribute('aria-controls').replace('-content','')), false);\r\n\r\n\t\t// ARIA for body\r\n\t\tbody.setAttribute('aria-hidden', ! isOpen);\r\n\r\n\t\t// Class to distinguish JS-enabled accordions\r\n\t\taccordionContainer.classList.add('mrw-accordion--has-js')\r\n\r\n\t};\r\n\r\n\tfunction addButtonToHeading( heading ) {\r\n\r\n\t\tconst headingHTML = heading.innerHTML,\r\n\t\t\t  button = document.createElement( 'button' );\r\n\r\n\t\tbutton.innerHTML = headingHTML.trim();\r\n\t\theading.innerHTML = '';\r\n\t\theading.appendChild(button);\r\n\r\n\t\treturn button;\r\n\r\n\t}\r\n\r\n};\r\n"],"names":["document","addEventListener","accordions","querySelectorAll","accordionsTotal","length","target","window","location","hash","substring","i","accordion","AccordionMaker","init","id","openAccordion","getAccordionInstance","accordionId","getElementById","toggleAccordion","button","querySelector","body","getAttribute","classList","toggle","setAttribute","accordionContainer","heading","addButtonToHeading","accordionID","isOpen","className","remove","add","e","currentTarget","replace","headingHTML","innerHTML","createElement","trim","appendChild"],"sourceRoot":""}